<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Đếm ngược kỷ yếu 12A2</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Playfair Display',serif}

body{
  background:black;
  color:#d4af37;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
}

canvas{
  position:fixed;
  inset:0;
  z-index:0;
}

.wrap{
  position:relative;
  z-index:5;
  text-align:center;
}

.title{
  font-size:28px;
  letter-spacing:3px;
  margin-bottom:26px;
}

.timer{
  display:flex;
  gap:18px;
  justify-content:center;
}

.box{
  width:90px;
  height:110px;
  border:2px solid #d4af37;
  border-radius:14px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  box-shadow:0 0 25px rgba(212,175,55,.25);
  backdrop-filter:blur(4px);
}

.num{
  font-size:40px;
  font-weight:600;
}

.label{
  font-size:11px;
  letter-spacing:2px;
  opacity:.7;
}

.fade{
  position:fixed;
  inset:0;
  background:black;
  opacity:0;
  pointer-events:none;
  transition:1.4s;
  z-index:20;
}
</style>
</head>

<body>

<canvas id="stars"></canvas>
<div class="fade" id="fade"></div>

<div class="wrap">
  <div class="title">ĐẾM NGƯỢC KHOẢNH KHẮC ĐẶC BIỆT</div>
  <div class="timer">
    <div class="box">
      <div class="num" id="days">00</div>
      <div class="label">NGÀY</div>
    </div>
    <div class="box">
      <div class="num" id="hours">00</div>
      <div class="label">GIỜ</div>
    </div>
    <div class="box">
      <div class="num" id="minutes">00</div>
      <div class="label">PHÚT</div>
    </div>
    <div class="box">
      <div class="num" id="seconds">00</div>
      <div class="label">GIÂY</div>
    </div>
  </div>
</div>

<script>
/* STAR BACKGROUND */
const canvas = document.getElementById("stars");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = innerWidth;
  canvas.height = innerHeight;
}
resize();
addEventListener("resize",resize);

let stars=[];
for(let i=0;i<180;i++){
  stars.push({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    r:Math.random()*1.6+0.4,
    s:Math.random()*0.5+0.1
  });
}

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let s of stars){
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fillStyle="rgba(255,215,100,.9)";
    ctx.fill();
    s.y-=s.s;
    if(s.y<0) s.y=canvas.height;
  }
  requestAnimationFrame(animate);
}
animate();

/* COUNTDOWN */
const targetDate = new Date("2026-03-20T07:00:00").getTime(); // ⚠️ đổi ngày giờ kỷ yếu tại đây

const daysEl=document.getElementById("days");
const hoursEl=document.getElementById("hours");
const minutesEl=document.getElementById("minutes");
const secondsEl=document.getElementById("seconds");
const fade=document.getElementById("fade");

function updateCountdown(){
  const now = new Date().getTime();
  const diff = targetDate - now;

  if(diff <= 0){
    fade.style.opacity = 1;
    setTimeout(()=> location.href="invite.html",1200);
    return;
  }

  const days = Math.floor(diff / (1000*60*60*24));
  const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
  const minutes = Math.floor((diff % (1000*60*60)) / (1000*60));
  const seconds = Math.floor((diff % (1000*60)) / 1000);

  daysEl.innerText = String(days).padStart(2,'0');
  hoursEl.innerText = String(hours).padStart(2,'0');
  minutesEl.innerText = String(minutes).padStart(2,'0');
  secondsEl.innerText = String(seconds).padStart(2,'0');
}

setInterval(updateCountdown,1000);
updateCountdown();
</script>

</body>
</html>
